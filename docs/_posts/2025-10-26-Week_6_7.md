---
title: "Nuevo mapa y movimiento del robot"
date: 2025-10-26
tags: [Progreso Semanal]
author: Carlos
---

## Nuevo mapa
Estas semanas estuve actualizando el mapa. Partí de un almacén vacío y posteriormente le fui añadiendo estanterías y algún pallet con cajas. Las estanterías son el mismo modelo las grandes y las pequeñas, solo que las escalé. Las colisiones funcionan adecuadamente (el modelo de estantería las traía implementadas).


![Almacén](images/almacen_2.png)




## Mapeo del entorno
Una vez con el almacén listo, me dispuse a mapearlo. Usé un robot diferente para ello y con la Slamtoolbox salió un mapa bastante aceptable.

![Mapa en bruto](images/map_raw.png)

Después lo refiné con una [herramienta online](https://gyropalm.github.io/ROS-SLAM-Map-Editor/editor.html) que permite editar los mapas muy cómodamente, obteniendo el siguiente resultado:

![Mapa editado](images/map_edited.png)

Posteriormente usé la misma herramienta para generar el mapa de polígonos y con GIMP lo dejé listo para poder generar el grafo de visibilidad. Eliminé las paredes del almacén para que no interfiriese con el algoritmo. Así, con un script de python obtenemos el resultado:
 
![Grafo de visibilidad](images/grafo_visibilidad_ruta_border.png)


## Paquete de ROS2
Lo siguiente que he estado haciendo es un paquete de ROS2 para que el robot siga una ruta entre el punto de inicio y el punto final. El robot se orienta al objetivo y sigue la línea hasta el mismo.
